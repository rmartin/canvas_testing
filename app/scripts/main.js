(function(){
	'use strict';

	window.requestAnimFrame = (function(callback) {
			return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame ||
				function(callback) {
					window.setTimeout(callback, 1000 / 60);
				};
		})();

	var tracking = [[0,978.445,446.225], [1,979.403,448.644], [2,982.321,450.601], [3,981.537,452.391], [4,984.889,453.863], [5,986.852,455.416], [6,989.319,457.426], [7,991.778,458.73,], [8,994.787,460.323], [9,997.726,461.638], [10,999.275,463.253], [11,1002.31,464.687], [12,1006.1,466.05,], [13,1008.45,467.676], [14,1012.22,468.873], [15,1015.8,470.15,], [16,1018.45,471.168], [17,1021.28,471.864], [18,1024,471.917], [19,1026.46,472.483], [20,1028.91,471.72,], [21,1031.1,471.66,], [22,1033.35,471.428], [23,1034.81,471.171], [24,1036.89,470.385], [25,1038.15,470.082], [26,1039.88,469.682], [27,1040.89,468.847], [28,1041.95,467.704], [29,1043.83,467.003], [30,1045.65,465.77,], [31,1046.92,464.924], [32,1048.99,464.223], [33,1049.7,463.874], [34,1050.87,463.462], [35,1051.99,463.692], [36,1052.81,463.28,], [37,1054.31,463.322], [38,1055.47,462.889], [39,1056.46,462.638], [40,1057.93,462.374], [41,1059.22,461.846], [42,1060.8,461.787], [43,1061.83,461.271], [44,1063.85,460.906], [45,1065.16,460.39,], [46,1066.73,460.642], [47,1068.34,460.791], [48,1069.93,461.174], [49,1071.12,462.05,], [50,1073.01,462.936], [51,1075.05,463.552], [52,1076.18,464.56,], [53,1078.35,465.609], [54,1080.53,466.374], [55,1082.3,467.047], [56,1084.3,468.235], [57,1086.12,469.521], [58,1087.49,470.333], [59,1090.12,471.162], [60,1091.36,471.897], [61,1092.89,473.121], [62,1095.2,474.056], [63,1096.53,474.624], [64,1098.88,476.003], [65,1100.69,477.497], [66,1102.69,478.274], [67,1105.09,479.087], [68,1107.43,480.336], [69,1109.31,480.574], [70,1111.26,481.055], [71,1113.74,482.589], [72,1115.9,482.893], [73,1117.91,483.462], [74,1120.49,483.38,], [75,1123.24,483.515], [76,1127.04,483.353], [77,1129.81,483.436], [78,1133.29,483.048], [79,1135.97,482.902], [80,1139.74,482.915], [81,1143.49,482.26,], [82,1147.08,481.779], [83,1150.83,481.355], [84,1155.18,480.665], [85,1158.57,479.94,], [86,1162.13,479.132], [87,1165.14,478.83,], [88,1168.66,478.7,], [89,1171.35,478.514], [90,1174.67,478.613], [91,1178.48,478.979], [92,1182.17,478.652], [93,1185.09,478.166], [94,1187.88,478.503], [95,1190.13,478.802], [96,1191.68,478.518], [97,1193.95,478.726], [98,1195.56,479.162], [99,1196.83,479.345], [100,1197.82,479.828], [101,1197.87,480.513], [102,1198.94,480.709], [103,1199.34,481.184], [104,1199.44,481.491], [105,1199.52,481.7,], [106,1199.24,481.594], [107,1199.08,481.785], [108,1197.97,481.604], [109,1196.53,481.609], [110,1194.68,481.388], [111,1193.39,482.365], [112,1192.74,483.173], [113,1191.75,484.15,], [114,1191.87,484.718], [115,1191.22,486.105], [116,1191.01,486.829], [117,1191.17,487.302], [118,1191.41,488.011], [119,1191.64,488.533], [120,1190.33,488.649], [121,1190.59,489.123], [122,1190.07,489.135], [123,1189.3,489.623], [124,1188.73,489.594], [125,1188.11,489.476], [126,1188.04,489.179], [127,1187.67,488.693], [128,1186.75,488.362], [129,1185.73,487.643], [130,1185.53,487.144], [131,1184.1,486.083], [132,1182.65,484.946], [133,1182.78,484.032], [134,1182.1,483.054], [135,1181.29,481.794], [136,1181.3,480.604], [137,1180.84,479.508], [138,1180.57,478.351], [139,1180.67,477.305], [140,1181.15,476.035], [141,1180.54,474.625], [142,1181.27,473.809], [143,1181.21,472.32,], [144,1180.62,470.663], [145,1180.51,469.152], [146,1180.3,467.84,], [147,1179.29,466.571], [148,1179.16,465.286], [149,1178.39,464.15,], [150,1176.59,462.645], [151,1174.86,461.73,], [152,1173.39,460.976], [153,1170.79,460.027], [154,1168.58,459.271], [155,1167.1,458.729], [156,1164.88,457.658], [157,1162.11,456.708], [158,1159.92,455.788], [159,1157.58,454.78,], [160,1155.5,453.676], [161,1152.8,452.227], [162,1150.57,450.709], [163,1149.41,449.532], [164,1147.35,448.182], [165,1145.6,447.26,], [166,1144.09,445.885], [167,1142.15,445.267], [168,1140.54,444.561], [169,1138.22,444.085], [170,1135.91,443.614], [171,1133.4,443.314], [172,1130.28,442.914], [173,1127.62,442.474], [174,1123.28,442.665], [175,1119.52,442.855], [176,1115.62,443.152], [177,1111.69,443.653], [178,1107.74,444.171], [179,1102.73,445.192], [180,1097.94,445.744], [181,1093.74,446.065], [182,1088.79,446.377], [183,1083.48,446.899], [184,1079.17,446.843], [185,1074.96,447.215], [186,1070.03,447.406], [187,1066.19,447.876], [188,1062.34,448.116], [189,1058.81,448.279], [190,1055.38,448.212], [191,1051.81,448.065], [192,1048.52,447.684], [193,1045.55,446.803], [194,1042.93,446.013], [195,1039.99,445.098], [196,1037.07,444.385], [197,1035.22,442.798], [198,1032.95,441.645], [199,1029.93,440.177], [200,1027.9,439.139], [201,1025.05,438.454], [202,1022.3,437.756], [203,1020.33,437.236], [204,1017.73,436.72,], [205,1016.15,436.401], [206,1013.44,435.809], [207,1010.43,435.168], [208,1008.19,434.413], [209,1005.86,433.594], [210,1003.53,433.31,], [211,1000.61,432.735], [212,998.442,432.473], [213,994.823,432.296], [214,992.939,431.406], [215,990.675,430.671], [216,988.256,430.321], [217,985.609,429.827], [218,984.458,429.123], [219,979.393,429.012], [220,980.832,427.962], [221,978.407,427.432], [222,976.326,426.893], [223,974.835,425.579], [224,974.199,425.109], [225,973.98,424.718], [226,972.317,424.304], [227,971.826,424.248], [228,970.687,424.76,], [229,970.36,425.295], [230,970.569,425.936], [231,970.248,426.754], [232,970.554,428.223], [233,970.943,429.618], [234,971.58,431.784], [235,972.633,433.553], [236,973.3,436.09,], [237,974.868,438.834], [238,975.336,441.36,], [239,977.064,444.598], [240,978.571,446.797]];

	var canvas = document.getElementById('myCanvas'),
		canvasW = canvas.width,
		canvasH = canvas.height,
		ctx = canvas.getContext('2d');

	var radius = 50,
		text = '',
        words = ['hello01', 'hello02', 'hello03', 'hello04' ],
        frame = [[75, 100], [200, 100], [325, 100], [450, 100]],
        circle1 = [[75, 100], [200, 100], [325, 100], [450, 100]],
        circle2 = [[75, 200], [200, 300], [325, 400], [450, 500]],
        circle3 = [[75, 300], [200, 400], [325, 500], [450, 600]],
        circle4 = [[75, 400], [200, 500], [325, 600], [450, 700]],
        frameL = frame.length;


	function drawData(x, y) {
		ctx.save();
		ctx.clearRect(0,0, canvas.width, canvas.height);
		var trackingX = x,
			trackingY = y;

		
		for(var i = 0; i < frameL; i++){
			// draw lines
			ctx.beginPath();
			ctx.moveTo(trackingX, trackingY);
			ctx.lineTo(frame[i][0], frame[i][1]);
			ctx.lineWidth = 2;
			ctx.lineCap = 'round';
			ctx.strokeStyle = '#fff';
			ctx.stroke();

			// circle
			ctx.beginPath();
			ctx.arc(frame[i][0] += 6, frame[i][1] += radius, radius, 0, 2 * Math.PI, false);
			ctx.lineWidth = 2;
			ctx.strokeStyle = '#fff';
			ctx.stroke();

			//draw text
			text = words[i];
			ctx.font = 'italic 20px Calibri';
			ctx.textAlign = 'center';
			ctx.textBasline = 'middle';
			ctx.fillStyle = '#fff';
			ctx.fillText(text, frame[i][0], frame[i][1]);

			//get metrics
			var metrics = ctx.measureText(text),
				width = metrics.width;
			ctx.font = 'italic 20px Calibri';
			ctx.textAlign = 'center';
			ctx.fillStyle = '#fff';
			ctx.fillText(width, frame[i][0], frame[i][1] + 20);


		}
		return true;
	}

	for(var i = 0; i < tracking.length; i++){
		var x = tracking[i][1],
			y = tracking[i][2];
		requestAnimationFrame(function(x, y){
			drawData(x, y);
		});
	}


	
})();